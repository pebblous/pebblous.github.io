<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오늘의 달 (Daily DAL) - Data Art Lab | Pebblous Blog</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="매일 새로운 Data Art Lab 작품을 만나보세요. 오늘의 달(DAL)에서 데이터 아트의 아름다움을 경험하세요.">
    <meta name="keywords" content="Data Art Lab, DAL, 데이터 아트, 오늘의 달, Pebblous, 데이터 시각화">
    <meta name="author" content="Pebblous">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://blog.pebblous.ai/dal/">
    <meta property="og:title" content="오늘의 달 (Daily DAL) - Data Art Lab">
    <meta property="og:description" content="매일 새로운 Data Art Lab 작품을 만나보세요">
    <meta property="og:image" content="https://blog.pebblous.ai/image/og-image.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="오늘의 달 (Daily DAL) - Data Art Lab">
    <meta name="twitter:description" content="매일 새로운 Data Art Lab 작품을 만나보세요">
    <meta name="twitter:image" content="https://blog.pebblous.ai/image/og-image.png">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <!-- Styles -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/styles/common-styles.css?v=20251119">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Daily DAL Script -->
    <script src="/scripts/daily-dal.js"></script>
</head>
<body class="min-h-screen" style="background: linear-gradient(135deg, #050816 0%, #0B2338 45%, #1BB9A5 100%);">

    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-16">
        <div class="max-w-4xl mx-auto text-center text-white">
            <h1 class="text-5xl font-bold mb-6">오늘의 달 (Daily DAL)</h1>
            <p class="text-xl mb-4 opacity-90">Data Art Lab의 아름다운 작품들</p>
            <p class="text-lg opacity-75 mb-12">
                매일 새로운 데이터 아트 작품을 만나보세요.<br>
                "달" = DAL (Data Art Lab)의 언어유희
            </p>

            <!-- Artwork Grid -->
            <div id="artwork-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12">
                <!-- Artworks will be loaded here dynamically -->
            </div>

            <!-- Loading State -->
            <div id="loading" class="text-white opacity-75">
                <p class="text-lg">작품을 불러오는 중...</p>
            </div>
        </div>
    </main>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <!-- Common Utils -->
    <script src="/scripts/common-utils.js"></script>

    <!-- Load Artworks -->
    <script>
        // Load all DAL artworks for browsing
        async function loadAllArtworks() {
            const grid = document.getElementById('artwork-grid');
            const loading = document.getElementById('loading');

            try {
                const response = await fetch('/articles.json', { cache: 'no-store' });
                const data = await response.json();
                const artworks = data.articles.filter(a => a.published && a.category === 'art');

                if (artworks.length === 0) {
                    grid.innerHTML = '<p class="text-white opacity-75">아직 작품이 없습니다.</p>';
                    loading.style.display = 'none';
                    return;
                }

                // Create artwork cards
                grid.innerHTML = artworks.map(artwork => {
                    let imageUrl = artwork.cardImage || artwork.image || '';
                    if (imageUrl && !imageUrl.startsWith('http')) {
                        imageUrl = imageUrl.startsWith('/')
                            ? `https://blog.pebblous.ai${imageUrl}`
                            : `https://blog.pebblous.ai/${imageUrl}`;
                    }

                    return `
                        <a href="${artwork.path}"
                           ${artwork.external ? 'target="_blank" rel="noopener noreferrer"' : ''}
                           class="block themeable-card rounded-xl overflow-hidden hover:scale-105 transition-transform duration-300">
                            ${imageUrl ? `<img src="${imageUrl}" alt="${artwork.title}" class="w-full h-48 object-cover">` : ''}
                            <div class="p-6">
                                <h3 class="text-lg font-bold mb-2">${artwork.title}</h3>
                                <p class="text-sm opacity-75 mb-4">${artwork.description}</p>
                                ${artwork.tags && artwork.tags.length > 0 ? `
                                    <div class="flex flex-wrap gap-2">
                                        ${artwork.tags.slice(0, 3).map(tag => `<span class="text-xs px-2 py-1 rounded" style="background: rgba(248, 104, 37, 0.2);">${tag}</span>`).join('')}
                                    </div>
                                ` : ''}
                            </div>
                        </a>
                    `;
                }).join('');

                loading.style.display = 'none';

            } catch (error) {
                console.error('Failed to load artworks:', error);
                grid.innerHTML = '<p class="text-white opacity-75">작품을 불러오는데 실패했습니다.</p>';
                loading.style.display = 'none';
            }
        }

        // Load artworks when page loads
        window.addEventListener('DOMContentLoaded', loadAllArtworks);
    </script>
</body>
</html>
